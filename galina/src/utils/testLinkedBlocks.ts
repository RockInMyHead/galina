/**
 * –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –±–ª–æ–∫–æ–≤ –≤ –º–æ–¥—É–ª—å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
 */

// –ò–º–∏—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –±–ª–æ–∫–æ–≤
function testLinkedBlocks() {
  const planPoints = [
    "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞",
    "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Ç—Ä—É–¥–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π",
    "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞—â–∏—Ç–µ –ø—Ä–∞–≤ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞"
  ];

  const previousBlocksContext: string[] = [];

  console.log("üîó –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –±–ª–æ–∫–æ–≤");
  console.log("üìã –ü–ª–∞–Ω –∏–∑ 3 –ø—É–Ω–∫—Ç–æ–≤:", planPoints);

  for (let i = 0; i < planPoints.length; i++) {
    const point = planPoints[i];
    console.log(`\nüìù –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–ª–æ–∫–∞ ${i + 1}: "${point}"`);

    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –±–ª–æ–∫–æ–≤
    let contextFromPreviousBlocks = '';
    if (previousBlocksContext.length > 0) {
      contextFromPreviousBlocks = `\n\n–ü–†–ï–î–´–î–£–©–ò–ï –†–ê–ó–î–ï–õ–´ (–£–ß–¢–ò –ò–• –ü–†–ò –ù–ê–ü–ò–°–ê–ù–ò–ò –¢–ï–ö–£–©–ï–ì–û –†–ê–ó–î–ï–õ–ê):\n${previousBlocksContext.map((block, idx) =>
        `–†–ê–ó–î–ï–õ ${idx + 1}: ${block.substring(0, 100)}${block.length > 100 ? '...' : ''}`
      ).join('\n\n')}

–í–ê–ñ–ù–û: –¢–µ–∫—É—â–∏–π —Ä–∞–∑–¥–µ–ª –¥–æ–ª–∂–µ–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏ –¥–æ–ø–æ–ª–Ω—è—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã. –ù–µ –ø–æ–≤—Ç–æ—Ä—è–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –±—ã–ª–∞ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö. –°—Å—ã–ª–∞–π—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã —Ç–∞–º, –≥–¥–µ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ, –∏ —Å—Ç—Ä–æ–π –ª–æ–≥–∏—á–µ—Å–∫—É—é —Ü–µ–ø–æ—á–∫—É —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π.`;
    }

    // –ò–º–∏—Ç–∏—Ä—É–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±–ª–æ–∫–∞
    const mockContent = `–≠—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "${point}".${contextFromPreviousBlocks ? ` –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –±–ª–æ–∫–æ–≤: ${contextFromPreviousBlocks.substring(0, 50)}...` : ''}`;

    console.log(`üìÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–Ω—Ç–µ–Ω—Ç (${mockContent.length} —Å–∏–º–≤–æ–ª–æ–≤)`);
    console.log(`üîó –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –±–ª–æ–∫–æ–≤: ${previousBlocksContext.length} –±–ª–æ–∫(–æ–≤)`);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞
    previousBlocksContext.push(`**${point}**\n${mockContent}`);

    // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Å–≤—è–∑–∏
    if (i > 0) {
      console.log("---");
    }
    console.log(`**${i + 1}. ${point}**\n${mockContent}`);
  }

  console.log("\n‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω. –í—Å–µ –±–ª–æ–∫–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã!");
}

testLinkedBlocks();
