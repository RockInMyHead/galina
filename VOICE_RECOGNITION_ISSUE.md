# Проблема с Web Speech API

## Текущая ситуация
Web Speech API (особенно в WebKit/Safari) прерывает сессию с ошибкой "No speech detected" если не слышит речь в первые 1-2 секунды после запуска.

## Причина
Это ограничение браузера, а не баг в коде. Web Speech API:
- Ожидает немедленного начала речи
- Не дает "grace period" для подготовки
- Прерывает сессию при малейшей паузе в начале

## Возможные решения

### 1. ✅ Использовать MediaRecorder API (РЕКОМЕНДУЕТСЯ)
Записывать аудио через MediaRecorder и отправлять на сервер для распознавания:
- Google Speech-to-Text API
- Azure Cognitive Services  
- OpenAI Whisper API

### 2. Кнопка "Нажми и держи"
Запускать распознавание только пока кнопка нажата

### 3. Автоматический перезапуск (текущее решение)
Перезапускать сессию при ошибке "no-speech"

### 4. Использовать сторонние библиотеки
- annyang.js
- speech-recognition-polyfill

## Рекомендация
Для production использовать **OpenAI Whisper API** через MediaRecorder:
1. Записываем аудио локально
2. Отправляем на сервер
3. Сервер использует Whisper API
4. Возвращаем транскрипцию

Это даст:
- ✅ Стабильность
- ✅ Высокое качество распознавания
- ✅ Поддержка всех браузеров
- ✅ Нет ограничений Web Speech API

